// contract-analysis.ts code (see assistant response)